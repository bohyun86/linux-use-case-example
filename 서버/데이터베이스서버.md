
### Step 1: MariaDB 설치

RHEL 기반 리눅스에 MariaDB를 설치하려면, **YUM** 패키지 관리자를 통해 설치하는 것이 일반적입니다. RHEL에는 기본적으로 MySQL 대신 MariaDB를 사용할 수 있도록 지원하기 때문에 MariaDB 설치가 비교적 간단합니다.

1. **리포지토리 업데이트**:
   먼저, 패키지 리스트를 업데이트합니다.
   ```bash
   sudo yum update -y
   ```

2. **MariaDB 설치**:
   MariaDB 서버와 클라이언트를 설치합니다.
   ```bash
   sudo yum install -y mariadb-server mariadb
   ```
   - 이 명령어는 MariaDB 서버 및 클라이언트를 설치합니다.

3. **MariaDB 서비스 시작 및 부팅 시 자동 실행 설정**:
   MariaDB 설치 후, 서비스를 **시작**하고 **자동 실행** 설정을 합니다.
   ```bash
   sudo systemctl start mariadb
   sudo systemctl enable mariadb
   ```
   - **`systemctl start mariadb`**: MariaDB 서비스를 시작합니다.
   - **`systemctl enable mariadb`**: 서버가 부팅될 때 MariaDB가 자동으로 실행되도록 설정합니다.

### Step 2: MariaDB 초기 보안 설정
MariaDB 설치 후, 보안을 강화하기 위한 초기 설정을 진행해야 합니다. 이 과정에서 루트 비밀번호를 설정하고 불필요한 기능을 비활성화합니다.

1. **보안 스크립트 실행**:
   설치가 완료되면 MariaDB의 기본 보안을 설정하는 스크립트를 실행합니다.
   ```bash
   sudo mysql_secure_installation
   ```
   이 스크립트를 실행하면 여러 가지 설정을 묻습니다.
   - **루트 암호 설정**: 새 루트 비밀번호를 설정합니다.
   - **익명 사용자 삭제**: 익명 사용자 계정을 삭제합니다.
   - **원격 루트 접속 비활성화**: 보안을 위해 루트 계정의 원격 접속을 비활성화합니다.
   - **테스트 데이터베이스 삭제**: 설치 시 기본으로 생성된 테스트 데이터베이스를 삭제합니다.
   - **권한 테이블 다시 로드**: 설정 변경 사항을 즉시 적용합니다.

### Step 3: MariaDB 설정 파일 수정 (`/etc/my.cnf`)
MariaDB의 기본 설정 파일은 `/etc/my.cnf`입니다. 여기서 여러 설정들을 변경하여 MariaDB 서버의 성능과 동작 방식을 조정할 수 있습니다.

1. **파일 편집**:
   ```bash
   sudo vi /etc/my.cnf
   ```
   - 기본적인 설정 외에도, 필요에 따라 최대 연결 수(`max_connections`), 버퍼 크기 등 여러 설정을 조정할 수 있습니다.
  
2. **기본적인 설정 옵션 예시**:
   ```conf
   [mysqld]
   bind-address = 0.0.0.0       # 모든 IP 주소에서의 접속 허용
   max_connections = 200        # 최대 동시 연결 수
   character-set-server = utf8  # 데이터베이스 문자셋 설정
   collation-server = utf8_general_ci
   ```

3. **파일 수정 후 MariaDB 재시작**:
   설정을 변경한 후에는 MariaDB 서비스를 재시작해야 변경사항이 적용됩니다.
   ```bash
   sudo systemctl restart mariadb
   ```

### Step 4: 방화벽 설정
MariaDB는 기본적으로 **포트 3306**을 사용하여 외부에서 접속할 수 있습니다. 따라서 해당 포트를 방화벽에서 허용해야 합니다.

1. **방화벽 설정 추가**:
   ```bash
   sudo firewall-cmd --add-service=mysql --permanent
   sudo firewall-cmd --reload
   ```
   - **`--add-service=mysql`**: MySQL (MariaDB) 서비스 포트를 허용합니다.
   - **`--permanent`**: 방화벽 규칙을 영구적으로 추가합니다.
   - **`--reload`**: 방화벽 설정을 다시 불러옵니다.

2. **특정 IP에만 허용 (선택 사항)**:
   보안을 위해 특정 IP에서만 데이터베이스에 접속을 허용하려면 다음과 같이 설정할 수 있습니다.
   ```bash
   sudo firewall-cmd --permanent --add-rich-rule='rule family="ipv4" source address="192.168.0.100" port protocol="tcp" port="3306" accept'
   sudo firewall-cmd --reload
   ```
   - 이 설정은 **192.168.0.100** IP 주소에서의 접속만 허용합니다.

### Step 5: MariaDB에 접속하여 데이터베이스와 사용자 생성
1. **MySQL 클라이언트를 통해 루트 계정으로 접속**:
   ```bash
   mysql -u root -p
   ```
   - 루트 계정으로 접속하려면 **루트 비밀번호**를 입력해야 합니다.

2. **새로운 데이터베이스 생성**:
   ```sql
   CREATE DATABASE my_database;
   ```
   - **`my_database`**라는 이름의 새 데이터베이스를 생성합니다.

3. **사용자 생성 및 권한 부여**:
   데이터베이스를 사용할 새로운 사용자 계정을 생성하고, 권한을 부여합니다.
   ```sql
   CREATE USER 'newuser'@'%' IDENTIFIED BY 'password';
   GRANT ALL PRIVILEGES ON my_database.* TO 'newuser'@'%';
   FLUSH PRIVILEGES;
   ```
   - **`newuser`**: 새로 생성할 사용자 이름입니다.
   - **`%`**: 모든 호스트에서의 접속을 허용합니다. 특정 호스트만 허용하려면 IP 주소로 변경할 수 있습니다.
   - **`GRANT ALL PRIVILEGES`**: 사용자에게 특정 데이터베이스에 대한 **모든 권한**을 부여합니다.
   - **`FLUSH PRIVILEGES`**: 권한 설정을 즉시 적용합니다.

### Step 6: MariaDB 상태 확인 및 테스트
1. **MariaDB 상태 확인**:
   ```bash
   sudo systemctl status mariadb
   ```
   - 서비스가 **active (running)** 상태인지 확인합니다.

2. **MariaDB 로그 파일 확인**:
   문제가 발생할 경우 **로그 파일**을 확인하여 원인을 파악할 수 있습니다.
   ```bash
   sudo tail -f /var/log/mariadb/mariadb.log
   ```

### Step 7: MariaDB 원격 접속 확인 (선택 사항)
만약 원격에서 MariaDB 접속이 필요한 경우, **클라이언트 툴** (예: **MySQL Workbench**) 등을 사용하여 원격으로 접속을 시도합니다.

- 접속 정보:
  - **호스트명**: MariaDB 서버의 IP 주소
  - **포트**: 3306
  - **사용자**: 데이터베이스 사용자 이름
  - **비밀번호**: 사용자 비밀번호

### 요약
1. **MariaDB 설치** (`yum install -y mariadb-server mariadb`) 및 **서비스 시작**.
2. **`mysql_secure_installation`**을 사용해 초기 보안 설정.
3. **설정 파일 수정** (`/etc/my.cnf`) 후 MariaDB 서비스 재시작.
4. **방화벽 설정**을 통해 포트 3306 허용.
5. **데이터베이스와 사용자 계정 생성**, 권한 설정.
6. **로그 확인** 및 **서비스 상태 점검**.

위의 과정들을 통해 MariaDB를 RHEL 리눅스에서 설정하고 데이터베이스 서버로 사용할 수 있습니다. 

---
## OracleDB 설치 및 설정

**RHEL 리눅스**에 **Oracle Database**를 설치하는 과정은 비교적 복잡하고, 여러 사전 요구 사항을 충족해야 합니다. Oracle Database는 강력한 기능을 제공하지만, 설치가 까다롭고 세부 설정이 많기 때문에 주의가 필요합니다. 여기서는 **Oracle Database 19c**를 기준으로 RHEL 8에서 설치하는 절차를 설명하겠습니다.

### 설치 과정의 주요 단계
1. **사전 준비 작업** (필요한 패키지 설치 및 사용자 생성)
2. **Oracle Database 설치 파일 다운로드 및 준비**
3. **필요한 시스템 설정**
4. **Oracle Database 설치**
5. **데이터베이스 구성 및 시작**

#### Step 1: 사전 준비 작업
Oracle Database를 설치하려면 사전에 여러 설정과 시스템 패키지가 필요합니다.

##### 1.1 필요한 패키지 설치
Oracle Database를 설치하기 전에 필요한 패키지와 라이브러리를 설치해야 합니다.

1. **패키지 설치**:
   ```bash
   sudo yum install -y oracle-database-preinstall-19c
   ```
   - 이 패키지는 Oracle Database 19c의 사전 준비 작업에 필요한 설정을 자동으로 해줍니다. 여기에는 필요한 **커널 파라미터 조정**과 **라이브러리 설치** 등이 포함됩니다.

2. **추가 패키지 설치**:
   ```bash
   sudo yum install -y binutils gcc glibc glibc-devel libaio libaio-devel \
   make sysstat compat-libcap1 compat-libstdc++-33 elfutils-libelf \
   elfutils-libelf-devel libgcc libstdc++ libstdc++-devel ksh
   ```
   - 이들은 Oracle이 요구하는 추가 패키지들입니다.

##### 1.2 Oracle 사용자를 생성
Oracle 설치를 위한 **oracle 사용자**와 **oinstall 그룹**을 생성합니다.

1. **그룹 및 사용자 생성**:
   ```bash
   sudo groupadd oinstall
   sudo groupadd dba
   sudo useradd -g oinstall -G dba oracle
   sudo passwd oracle
   ```
   - `oinstall`과 `dba` 그룹을 생성하고, **oracle 사용자**를 생성하여 이 그룹에 포함시킵니다.

2. **Oracle 설치 디렉터리 생성 및 권한 부여**:
   Oracle 소프트웨어를 설치할 디렉터리를 생성하고, 소유자를 **oracle 사용자**로 변경합니다.
   ```bash
   sudo mkdir -p /u01/app/oracle
   sudo chown -R oracle:oinstall /u01/app/oracle
   sudo chmod -R 775 /u01/app/oracle
   ```

#### Step 2: Oracle Database 설치 파일 다운로드
Oracle Database 설치 파일을 **Oracle 공식 사이트**(https://www.oracle.com/database/technologies/)에서 다운로드해야 합니다.

1. Oracle 웹사이트에서 **Oracle Database 19c** 설치 파일 (`LINUX.X64_193000_db_home.zip`)을 다운로드합니다.
2. 다운로드한 파일을 `/home/oracle` 경로 또는 임시 디렉터리로 옮깁니다.
3. 파일의 압축을 해제합니다.
   ```bash
   unzip LINUX.X64_193000_db_home.zip -d /u01/app/oracle
   ```
   - 압축 해제된 파일은 `/u01/app/oracle` 경로에 설치될 것입니다.

#### Step 3: 시스템 설정
Oracle Database 설치를 위해 시스템의 **커널 파라미터와 리소스 제한**을 조정해야 합니다. `/etc/sysctl.conf`와 `/etc/security/limits.conf` 파일을 수정합니다.

##### 3.1 커널 파라미터 설정 (`/etc/sysctl.conf`)
1. **커널 파라미터 추가**:
   ```bash
   sudo vi /etc/sysctl.conf
   ```
   파일 끝에 다음 설정을 추가합니다.
   ```conf
   fs.file-max = 6815744
   kernel.sem = 250 32000 100 128
   kernel.shmmax = 4294967295
   kernel.shmmni = 4096
   kernel.shmall = 1073741824
   net.ipv4.ip_local_port_range = 9000 65500
   net.core.rmem_default = 262144
   net.core.rmem_max = 4194304
   net.core.wmem_default = 262144
   net.core.wmem_max = 1048576
   ```
2. **변경 사항 적용**:
   ```bash
   sudo sysctl -p
   ```

##### 3.2 리소스 제한 설정 (`/etc/security/limits.conf`)
Oracle 사용자의 리소스 제한을 설정합니다.

1. **리소스 제한 추가**:
   ```bash
   sudo vi /etc/security/limits.conf
   ```
   파일 끝에 다음 설정을 추가합니다.
   ```conf
   oracle   soft   nproc    2047
   oracle   hard   nproc    16384
   oracle   soft   nofile   1024
   oracle   hard   nofile   65536
   oracle   soft   stack    10240
   oracle   hard   stack    32768
   ```

#### Step 4: Oracle Database 설치
이제 **oracle 사용자**로 로그인하여 설치를 진행합니다.

1. **oracle 사용자로 전환**:
   ```bash
   su - oracle
   ```

2. **Oracle Universal Installer (OUI) 실행**:
   압축 해제된 Oracle 설치 디렉터리로 이동하여 **OUI 설치 프로그램**을 실행합니다.
   ```bash
   cd /u01/app/oracle
   ./runInstaller
   ```
   - 설치 마법사가 실행됩니다. 여기서 여러 가지 옵션을 설정해야 합니다.
   - **소프트웨어 전용 설치** 또는 **데이터베이스 생성 포함 설치** 중 하나를 선택할 수 있습니다.
   - 기본적으로 필요한 설정들을 입력하고, 설치를 진행합니다.
  
3. **루트 스크립트 실행**:
   설치가 완료되면 루트 사용자로 몇 가지 **스크립트**를 실행하라는 메시지가 표시됩니다. 새로운 터미널에서 다음 명령어를 실행합니다.
   ```bash
   sudo /u01/app/oraInventory/orainstRoot.sh
   sudo /u01/app/oracle/product/19.0.0/dbhome_1/root.sh
   ```

#### Step 5: 데이터베이스 구성 및 시작
Oracle Database 설치가 완료되면, **DBCA(Database Configuration Assistant)**를 사용하여 데이터베이스를 구성할 수 있습니다.

1. **DBCA 실행**:
   Oracle Database 구성 도구인 **DBCA**를 사용하여 새로운 데이터베이스를 생성합니다.
   ```bash
   dbca
   ```
   - 마법사를 따라 데이터베이스 이름, SID, 메모리 설정, 저장소 위치 등을 설정합니다.
   - 데이터베이스 생성이 완료되면 자동으로 시작됩니다.

2. **Oracle 환경 설정 (환경 변수 설정)**:
   `~/.bash_profile` 파일에 Oracle 환경 변수를 추가합니다.
   ```bash
   vi ~/.bash_profile
   ```
   다음 내용을 추가합니다.
   ```bash
   export ORACLE_BASE=/u01/app/oracle
   export ORACLE_HOME=$ORACLE_BASE/product/19.0.0/dbhome_1
   export ORACLE_SID=orcl
   export PATH=$ORACLE_HOME/bin:$PATH
   ```
   - 설정을 반영하려면 다음 명령어를 실행합니다.
   ```bash
   source ~/.bash_profile
   ```

#### Step 6: Oracle Database 시작 및 연결 테스트
1. **Oracle Listener 시작**:
   ```bash
   lsnrctl start
   ```
   - **Listener**는 외부 클라이언트가 데이터베이스에 접속할 수 있도록 하는 역할을 합니다.

2. **SQL*Plus를 사용해 데이터베이스에 연결**:
   ```bash
   sqlplus / as sysdba
   ```
   - **SQL*Plus**를 사용하여 데이터베이스에 접속합니다.
   - 연결 후 데이터베이스를 시작하려면 다음 명령어를 사용합니다.
   ```sql
   STARTUP;
   ```

### 요약
1. **필요한 패키지 설치** (`oracle-database-preinstall-19c` 등).
2. **oracle 사용자 생성** 및 설치 디렉터리 준비.
3. **Oracle 설치 파일 다운로드 및 압축 해제**.
4. **커널 파라미터 및 리소스 제한 설정**.
5. **Oracle Database 설치 및 DBCA를 이용한 데이터베이스 구성**.
6. **Listener 시작 및 SQL*Plus를 사용해 데이터베이스에 연결**.

이 단계들을 따르면 RHEL에서 Oracle Database를 설치하고 사용할 수 있습니다.
