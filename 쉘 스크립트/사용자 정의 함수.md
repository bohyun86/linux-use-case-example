### **Shell Script에서 사용자 정의 함수란?**

Shell 스크립트에서 사용자 정의 함수는 자주 사용되는 코드를 재사용 가능하도록 만들어주는 코드 블록입니다. 함수는 코드의 가독성을 높이고, 유지보수를 쉽게 하며, 반복 작업을 줄이는 데 유용합니다. 

### **사용자 정의 함수 정의 및 호출**

#### 함수 정의 방법
```sh
함수이름() {
    # 함수의 본문
    명령어들
}
```

또는 아래와 같은 형태도 가능:
```sh
function 함수이름 {
    # 함수의 본문
    명령어들
}
```

#### 함수 호출 방법
- 함수 이름을 그대로 호출합니다:
```sh
함수이름
```

#### 매개변수 전달
- 함수에 매개변수를 전달할 수 있습니다.
- 전달된 매개변수는 `$1`, `$2`, ..., `$n`으로 참조합니다.

#### 반환값
- 함수의 반환값은 `return` 명령어를 사용하거나 `echo`를 통해 출력한 값을 호출한 곳에서 사용할 수 있습니다.

---

### **사용 예제**

#### 간단한 함수 예제
```sh
#!/bin/sh

# 함수 정의
greet() {
    echo "안녕하세요, $1님!"
}

# 함수 호출
greet "홍길동"
greet "김철수"
```

**출력:**
```
안녕하세요, 홍길동님!
안녕하세요, 김철수님!
```

---

#### 매개변수를 사용하여 덧셈 수행
```sh
#!/bin/sh

# 덧셈 함수 정의
add() {
    result=`expr $1 + $2`
    echo $result
}

# 함수 호출
sum=$(add 5 10)
echo "5와 10의 합: $sum"
```

**출력:**
```
5와 10의 합: 15
```

---

#### 파일 존재 여부 확인 함수
```sh
#!/bin/sh

# 파일 존재 여부를 확인하는 함수
check_file() {
    if [ -f "$1" ]; then
        echo "파일 $1이(가) 존재합니다."
    else
        echo "파일 $1이(가) 존재하지 않습니다."
    fi
}

# 함수 호출
check_file /etc/passwd
check_file /tmp/testfile
```

**출력:**
```
파일 /etc/passwd이(가) 존재합니다.
파일 /tmp/testfile이(가) 존재하지 않습니다.
```

---

#### 반복 작업을 위한 함수
```sh
#!/bin/sh

# 숫자를 1부터 N까지 출력하는 함수
print_numbers() {
    i=1
    while [ $i -le $1 ]; do
        echo $i
        i=`expr $i + 1`
    done
}

# 함수 호출
print_numbers 5
```

**출력:**
```
1
2
3
4
5
```

---

### **함수의 주요 장점**
1. **재사용성**: 동일한 작업을 반복하지 않고, 필요할 때마다 호출할 수 있습니다.
2. **가독성**: 복잡한 작업을 함수로 분리하여 코드의 가독성을 높입니다.
3. **유지보수성**: 변경이 필요할 경우 함수만 수정하면 됩니다.
